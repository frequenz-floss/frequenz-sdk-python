
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Frequenz Python SDK.">
      
      
        <meta name="author" content="Frequenz Energy-as-a-Service GmbH">
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="power_distributing/">
      
      <link rel="icon" href="../../../../logo.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>actor - Frequenz Python SDK</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../css/style.css">
    
      <link rel="stylesheet" href="../../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#frequenz.sdk.actor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest (stable) version.
  <a href="../../../../.."> 
    <strong>Click here to go to latest (stable) version</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Frequenz Python SDK" class="md-header__button md-logo" aria-label="Frequenz Python SDK" data-md-component="logo">
      
  <img src="../../../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Frequenz Python SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              actor
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/frequenz-floss/frequenz-sdk-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    frequenz-sdk-python
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../conftest/" class="md-tabs__link md-tabs__link--active">
        API Reference
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../CONTRIBUTING/" class="md-tabs__link">
      Development
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Frequenz Python SDK" class="md-nav__button md-logo" aria-label="Frequenz Python SDK" data-md-component="logo">
      
  <img src="../../../../logo.png" alt="logo">

    </a>
    Frequenz Python SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/frequenz-floss/frequenz-sdk-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    frequenz-sdk-python
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../conftest/" class="md-nav__link">
        conftest
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          frequenz
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          frequenz
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" checked>
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">sdk</a>
          
            <label for="__nav_2_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          sdk
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_1" checked>
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">actor</a>
          
            <label for="__nav_2_2_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_1_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          actor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_1_1" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="power_distributing/">power_distributing</a>
          
            <label for="__nav_2_2_1_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_1_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1_1_1">
          <span class="md-nav__icon md-icon"></span>
          power_distributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="power_distributing/power_distributing/" class="md-nav__link">
        power_distributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="power_distributing/request/" class="md-nav__link">
        request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="power_distributing/result/" class="md-nav__link">
        result
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_3" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../microgrid/">microgrid</a>
          
            <label for="__nav_2_2_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_1_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1_3">
          <span class="md-nav__icon md-icon"></span>
          microgrid
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../microgrid/client/" class="md-nav__link">
        client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../microgrid/component/" class="md-nav__link">
        component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../microgrid/connection_manager/" class="md-nav__link">
        connection_manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../power/" class="md-nav__link">
        power
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_5" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../timeseries/">timeseries</a>
          
            <label for="__nav_2_2_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1_5">
          <span class="md-nav__icon md-icon"></span>
          timeseries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_5_1" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../timeseries/battery_pool/">battery_pool</a>
          
            <label for="__nav_2_2_1_5_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_1_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1_5_1">
          <span class="md-nav__icon md-icon"></span>
          battery_pool
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../timeseries/battery_pool/battery_pool/" class="md-nav__link">
        battery_pool
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../timeseries/ev_charger_pool/" class="md-nav__link">
        ev_charger_pool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../timeseries/logical_meter/" class="md-nav__link">
        logical_meter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../CONTRIBUTING/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#frequenz.sdk.actor" class="md-nav__link">
    actor
  </a>
  
    <nav class="md-nav" aria-label="actor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ChannelRegistry" class="md-nav__link">
    ChannelRegistry
  </a>
  
    <nav class="md-nav" aria-label="ChannelRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ChannelRegistry-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._channel_registry.ChannelRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._channel_registry.ChannelRegistry.new_receiver" class="md-nav__link">
    new_receiver()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._channel_registry.ChannelRegistry.new_sender" class="md-nav__link">
    new_sender()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ComponentMetricRequest" class="md-nav__link">
    ComponentMetricRequest
  </a>
  
    <nav class="md-nav" aria-label="ComponentMetricRequest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ComponentMetricRequest-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.component_id" class="md-nav__link">
    component_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.metric_id" class="md-nav__link">
    metric_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.namespace" class="md-nav__link">
    namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.start_time" class="md-nav__link">
    start_time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ComponentMetricRequest-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.get_channel_name" class="md-nav__link">
    get_channel_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ComponentMetricsResamplingActor" class="md-nav__link">
    ComponentMetricsResamplingActor
  </a>
  
    <nav class="md-nav" aria-label="ComponentMetricsResamplingActor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ComponentMetricsResamplingActor-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.run--noqa-dar401-error" class="md-nav__link">
    noqa: DAR401 error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ConfigManagingActor" class="md-nav__link">
    ConfigManagingActor
  </a>
  
    <nav class="md-nav" aria-label="ConfigManagingActor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ConfigManagingActor-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._config_managing.ConfigManagingActor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._config_managing.ConfigManagingActor.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._config_managing.ConfigManagingActor.send_config" class="md-nav__link">
    send_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.DataSourcingActor" class="md-nav__link">
    DataSourcingActor
  </a>
  
    <nav class="md-nav" aria-label="DataSourcingActor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.DataSourcingActor-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.data_sourcing.DataSourcingActor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor._data_sourcing.data_sourcing.DataSourcingActor.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ResamplerConfig" class="md-nav__link">
    ResamplerConfig
  </a>
  
    <nav class="md-nav" aria-label="ResamplerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ResamplerConfig-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.align_to" class="md-nav__link">
    align_to
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.initial_buffer_len" class="md-nav__link">
    initial_buffer_len
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.max_buffer_len" class="md-nav__link">
    max_buffer_len
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.max_data_age_in_periods" class="md-nav__link">
    max_data_age_in_periods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.resampling_function" class="md-nav__link">
    resampling_function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.resampling_period" class="md-nav__link">
    resampling_period
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.warn_buffer_len" class="md-nav__link">
    warn_buffer_len
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.ResamplerConfig-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.__post_init__" class="md-nav__link">
    __post_init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.actor" class="md-nav__link">
    actor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.sdk.actor.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>actor</h1>

<div class="doc doc-object doc-module">



<h2 id="frequenz.sdk.actor" class="doc doc-heading">
          <code>frequenz.sdk.actor</code>


<a href="#frequenz.sdk.actor" class="headerlink" title="Permanent link">¤</a></h2>

  <div class="doc doc-contents first">
  
      <p>A base class for creating simple composable actors.</p>

  

  <div class="doc doc-children">






<h3 id="frequenz.sdk.actor-classes">Classes<a href="#frequenz.sdk.actor-classes" class="headerlink" title="Permanent link">¤</a></h3>

<div class="doc doc-object doc-class">



<h4 id="frequenz.sdk.actor.ChannelRegistry" class="doc doc-heading">
        <code>frequenz.sdk.actor.ChannelRegistry</code>


<a href="#frequenz.sdk.actor.ChannelRegistry" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">

  
      <p>Dynamically creates, own and provide access to channels.</p>
<p>It can be used by actors to dynamically establish a communication channel
between each other.  Channels are identified by string names.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_channel_registry.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ChannelRegistry</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dynamically creates, own and provide access to channels.</span>

<span class="sd">    It can be used by actors to dynamically establish a communication channel</span>
<span class="sd">    between each other.  Channels are identified by string names.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `ChannelRegistry` instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A unique name for the registry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Broadcast</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">new_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sender</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a sender to a dynamically created channel with the given key.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: A key to identify the channel.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A sender to a dynamically created channel with the given key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">new_sender</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">new_receiver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a receiver to a dynamically created channel with the given key.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: A key to identify the channel.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A receiver for a dynamically created channel with the given key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_close_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close a channel with the given key.</span>

<span class="sd">        This method is private and should only be used in special cases.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: A key to identify the channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">channel</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.sdk.actor.ChannelRegistry-functions">Functions<a href="#frequenz.sdk.actor.ChannelRegistry-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._channel_registry.ChannelRegistry.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor._channel_registry.ChannelRegistry.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a <code>ChannelRegistry</code> instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td class="doc-param-details">
            <p>A unique name for the registry.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_channel_registry.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `ChannelRegistry` instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: A unique name for the registry.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Broadcast</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._channel_registry.ChannelRegistry.new_receiver" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_receiver</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor._channel_registry.ChannelRegistry.new_receiver" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Get a receiver to a dynamically created channel with the given key.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>key</code></td>
          <td class="doc-param-details">
            <p>A key to identify the channel.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels.Receiver">Receiver</span>[<a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <p>A receiver for a dynamically created channel with the given key.</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_channel_registry.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_receiver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a receiver to a dynamically created channel with the given key.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: A key to identify the channel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A receiver for a dynamically created channel with the given key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._channel_registry.ChannelRegistry.new_sender" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_sender</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor._channel_registry.ChannelRegistry.new_sender" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Get a sender to a dynamically created channel with the given key.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>key</code></td>
          <td class="doc-param-details">
            <p>A key to identify the channel.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels.Sender">Sender</span>[<a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <p>A sender to a dynamically created channel with the given key.</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_channel_registry.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sender</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a sender to a dynamically created channel with the given key.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: A key to identify the channel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A sender to a dynamically created channel with the given key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">new_sender</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.sdk.actor.ComponentMetricRequest" class="doc doc-heading">
        <code>frequenz.sdk.actor.ComponentMetricRequest</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#frequenz.sdk.actor.ComponentMetricRequest" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">

  
      <p>A request object to start streaming a metric for a component.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_data_sourcing/microgrid_api_source.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ComponentMetricRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A request object to start streaming a metric for a component.&quot;&quot;&quot;</span>

    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The namespace that this request belongs to.</span>

<span class="sd">    Metric requests with a shared namespace enable the reuse of channels within</span>
<span class="sd">    that namespace.</span>

<span class="sd">    If for example, an actor making a multiple requests, uses the name of the</span>
<span class="sd">    actor as the namespace, then requests from the actor will get reused when</span>
<span class="sd">    possible.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">component_id</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The ID of the requested component.&quot;&quot;&quot;</span>

    <span class="n">metric_id</span><span class="p">:</span> <span class="n">ComponentMetricId</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The ID of the requested component&#39;s metric.&quot;&quot;&quot;</span>

    <span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The start time from which data is required.</span>

<span class="sd">    When None, we will stream only live data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_channel_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a channel name constructed from Self.</span>

<span class="sd">        This channel name can be used by the sending side and receiving sides to</span>
<span class="sd">        identify the right channel from the ChannelRegistry.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string denoting a channel name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">component_id</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">metric_id</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">





<h5 id="frequenz.sdk.actor.ComponentMetricRequest-attributes">Attributes<a href="#frequenz.sdk.actor.ComponentMetricRequest-attributes" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.component_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component_id</span><span class="p">:</span> <span class="nb">int</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.component_id" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The ID of the requested component.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.metric_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metric_id</span><span class="p">:</span> <span class="n">ComponentMetricId</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.metric_id" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The ID of the requested component's metric.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.namespace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.namespace" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The namespace that this request belongs to.</p>
<p>Metric requests with a shared namespace enable the reuse of channels within
that namespace.</p>
<p>If for example, an actor making a multiple requests, uses the name of the
actor as the namespace, then requests from the actor will get reused when
possible.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.start_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.start_time" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The start time from which data is required.</p>
<p>When None, we will stream only live data.</p>
  </div>

</div>

<h5 id="frequenz.sdk.actor.ComponentMetricRequest-functions">Functions<a href="#frequenz.sdk.actor.ComponentMetricRequest-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.get_channel_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_channel_name</span><span class="p">()</span></code>

<a href="#frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest.get_channel_name" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Return a channel name constructed from Self.</p>
<p>This channel name can be used by the sending side and receiving sides to
identify the right channel from the ChannelRegistry.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <p>A string denoting a channel name.</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_data_sourcing/microgrid_api_source.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_channel_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a channel name constructed from Self.</span>

<span class="sd">    This channel name can be used by the sending side and receiving sides to</span>
<span class="sd">    identify the right channel from the ChannelRegistry.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A string denoting a channel name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">component_id</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">metric_id</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.sdk.actor.ComponentMetricsResamplingActor" class="doc doc-heading">
        <code>frequenz.sdk.actor.ComponentMetricsResamplingActor</code>


<a href="#frequenz.sdk.actor.ComponentMetricsResamplingActor" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">

  
      <p>An actor to resample microgrid component metrics.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_resampling.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@actor</span>
<span class="k">class</span> <span class="nc">ComponentMetricsResamplingActor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An actor to resample microgrid component metrics.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">channel_registry</span><span class="p">:</span> <span class="n">ChannelRegistry</span><span class="p">,</span>
        <span class="n">data_sourcing_request_sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">ComponentMetricRequest</span><span class="p">],</span>
        <span class="n">resampling_request_receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">ComponentMetricRequest</span><span class="p">],</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ResamplerConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel_registry: The channel registry used to get senders and</span>
<span class="sd">                receivers for data sourcing subscriptions.</span>
<span class="sd">            data_sourcing_request_sender: The sender used to send requests to</span>
<span class="sd">                the [`DataSourcingActor`][frequenz.sdk.actor.DataSourcingActor]</span>
<span class="sd">                to subscribe to component metrics.</span>
<span class="sd">            resampling_request_receiver: The receiver to use to receive new</span>
<span class="sd">                resampmling subscription requests.</span>
<span class="sd">            config: The configuration for the resampler.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channel_registry</span><span class="p">:</span> <span class="n">ChannelRegistry</span> <span class="o">=</span> <span class="n">channel_registry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_sourcing_request_sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span>
            <span class="n">ComponentMetricRequest</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">data_sourcing_request_sender</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resampling_request_receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span>
            <span class="n">ComponentMetricRequest</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">resampling_request_receiver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="p">:</span> <span class="n">Resampler</span> <span class="o">=</span> <span class="n">Resampler</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_req_channels</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">ComponentMetricRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Request data for a component metric.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request for component metric data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_channel_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_channel_name</span><span class="p">()</span>

        <span class="c1"># If we are already handling this request, there is nothing to do.</span>
        <span class="k">if</span> <span class="n">request_channel_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_req_channels</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_active_req_channels</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">request_channel_name</span><span class="p">)</span>

        <span class="n">data_source_request</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
            <span class="n">request</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">namespace</span> <span class="o">+</span> <span class="s2">&quot;:Source&quot;</span>
        <span class="p">)</span>
        <span class="n">data_source_channel_name</span> <span class="o">=</span> <span class="n">data_source_request</span><span class="o">.</span><span class="n">get_channel_name</span><span class="p">()</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_sourcing_request_sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data_source_request</span><span class="p">)</span>
        <span class="n">receiver</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel_registry</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(</span><span class="n">data_source_channel_name</span><span class="p">)</span>

        <span class="c1"># This is a temporary hack until the Sender implementation uses</span>
        <span class="c1"># exceptions to report errors.</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel_registry</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">get_channel_name</span><span class="p">())</span>

        <span class="k">async</span> <span class="k">def</span> <span class="nf">sink_adapter</span><span class="p">(</span><span class="n">sample</span><span class="p">:</span> <span class="n">Sample</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="o">.</span><span class="n">add_timeseries</span><span class="p">(</span><span class="n">request_channel_name</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">sink_adapter</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_process_resampling_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Process resampling data requests.&quot;&quot;&quot;</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resampling_request_receiver</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscribe</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resample known component metrics and process resampling requests.</span>

<span class="sd">        If there is a resampling error while resampling some component metric,</span>
<span class="sd">        then that metric will be discarded and not resampled any more. Any</span>
<span class="sd">        other error will be propagated (most likely ending in the actor being</span>
<span class="sd">        restarted).</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If there is some unexpected error while resampling or</span>
<span class="sd">                handling requests.</span>

<span class="sd">        # noqa: DAR401 error</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tasks_to_cancel</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subscriptions_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_process_resampling_requests</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">subscriptions_task</span><span class="p">)</span>

            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">resampling_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="o">.</span><span class="n">resample</span><span class="p">())</span>
                <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">resampling_task</span><span class="p">)</span>
                <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span>
                    <span class="p">[</span><span class="n">resampling_task</span><span class="p">,</span> <span class="n">subscriptions_task</span><span class="p">],</span>
                    <span class="n">return_when</span><span class="o">=</span><span class="n">asyncio</span><span class="o">.</span><span class="n">FIRST_COMPLETED</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="n">subscriptions_task</span> <span class="ow">in</span> <span class="n">done</span><span class="p">:</span>
                    <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">subscriptions_task</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="s2">&quot;There was a problem with the subscriptions channel.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">resampling_task</span> <span class="ow">in</span> <span class="n">done</span><span class="p">:</span>
                    <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">resampling_task</span><span class="p">)</span>
                    <span class="c1"># The resampler shouldn&#39;t end without an exception</span>
                    <span class="n">error</span> <span class="o">=</span> <span class="n">resampling_task</span><span class="o">.</span><span class="n">exception</span><span class="p">()</span>
                    <span class="k">assert</span> <span class="p">(</span>
                        <span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="p">),</span> <span class="s2">&quot;The resample() function shouldn&#39;t exit normally.&quot;</span>

                    <span class="c1"># We don&#39;t know what to do with something other than</span>
                    <span class="c1"># ResamplingError, so propagate the exception if that is the</span>
                    <span class="c1"># case.</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">ResamplingError</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="n">error</span>
                    <span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">source_error</span> <span class="ow">in</span> <span class="n">error</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;Error resampling source </span><span class="si">%s</span><span class="s2">, removing source...&quot;</span><span class="p">,</span> <span class="n">source</span>
                        <span class="p">)</span>
                        <span class="n">removed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="o">.</span><span class="n">remove_timeseries</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">removed</span><span class="p">:</span>
                            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                                <span class="s2">&quot;Got an exception from an unknown source: &quot;</span>
                                <span class="s2">&quot;source=</span><span class="si">%r</span><span class="s2">, exception=</span><span class="si">%r</span><span class="s2">&quot;</span><span class="p">,</span>
                                <span class="n">source</span><span class="p">,</span>
                                <span class="n">source_error</span><span class="p">,</span>
                            <span class="p">)</span>
                    <span class="c1"># The resampling_task will be re-created if we reached this point</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">cancel_and_await</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tasks_to_cancel</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.sdk.actor.ComponentMetricsResamplingActor-functions">Functions<a href="#frequenz.sdk.actor.ComponentMetricsResamplingActor-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">channel_registry</span><span class="p">,</span> <span class="n">data_sourcing_request_sender</span><span class="p">,</span> <span class="n">resampling_request_receiver</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Initialize an instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>channel_registry</code></td>
          <td class="doc-param-details">
            <p>The channel registry used to get senders and
receivers for data sourcing subscriptions.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="frequenz.sdk.actor._channel_registry.ChannelRegistry" href="#frequenz.sdk.actor.ChannelRegistry">ChannelRegistry</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>data_sourcing_request_sender</code></td>
          <td class="doc-param-details">
            <p>The sender used to send requests to
the <a class="autorefs autorefs-internal" href="#frequenz.sdk.actor.DataSourcingActor"><code>DataSourcingActor</code></a>
to subscribe to component metrics.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels.Sender">Sender</span>[<a class="autorefs autorefs-internal" title="frequenz.sdk.actor._data_sourcing.ComponentMetricRequest" href="#frequenz.sdk.actor.ComponentMetricRequest">ComponentMetricRequest</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>resampling_request_receiver</code></td>
          <td class="doc-param-details">
            <p>The receiver to use to receive new
resampmling subscription requests.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels.Receiver">Receiver</span>[<a class="autorefs autorefs-internal" title="frequenz.sdk.actor._data_sourcing.ComponentMetricRequest" href="#frequenz.sdk.actor.ComponentMetricRequest">ComponentMetricRequest</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td class="doc-param-details">
            <p>The configuration for the resampler.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="frequenz.sdk.timeseries._resampling.ResamplerConfig" href="#frequenz.sdk.actor.ResamplerConfig">ResamplerConfig</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_resampling.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">channel_registry</span><span class="p">:</span> <span class="n">ChannelRegistry</span><span class="p">,</span>
    <span class="n">data_sourcing_request_sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">ComponentMetricRequest</span><span class="p">],</span>
    <span class="n">resampling_request_receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">ComponentMetricRequest</span><span class="p">],</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ResamplerConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize an instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel_registry: The channel registry used to get senders and</span>
<span class="sd">            receivers for data sourcing subscriptions.</span>
<span class="sd">        data_sourcing_request_sender: The sender used to send requests to</span>
<span class="sd">            the [`DataSourcingActor`][frequenz.sdk.actor.DataSourcingActor]</span>
<span class="sd">            to subscribe to component metrics.</span>
<span class="sd">        resampling_request_receiver: The receiver to use to receive new</span>
<span class="sd">            resampmling subscription requests.</span>
<span class="sd">        config: The configuration for the resampler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_channel_registry</span><span class="p">:</span> <span class="n">ChannelRegistry</span> <span class="o">=</span> <span class="n">channel_registry</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data_sourcing_request_sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span>
        <span class="n">ComponentMetricRequest</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">data_sourcing_request_sender</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_resampling_request_receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span>
        <span class="n">ComponentMetricRequest</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">resampling_request_receiver</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="p">:</span> <span class="n">Resampler</span> <span class="o">=</span> <span class="n">Resampler</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_active_req_channels</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.run" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Resample known component metrics and process resampling requests.</p>
<p>If there is a resampling error while resampling some component metric,
then that metric will be discarded and not resampled any more. Any
other error will be propagated (most likely ending in the actor being
restarted).</p>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <p>If there is some unexpected error while resampling or
handling requests.</p>
          </td>
        </tr>
    </tbody>
  </table>
      <h6 id="frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.run--noqa-dar401-error">noqa: DAR401 error<a class="headerlink" href="#frequenz.sdk.actor._resampling.ComponentMetricsResamplingActor.run--noqa-dar401-error" title="Permanent link">¤</a></h6>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_resampling.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resample known component metrics and process resampling requests.</span>

<span class="sd">    If there is a resampling error while resampling some component metric,</span>
<span class="sd">    then that metric will be discarded and not resampled any more. Any</span>
<span class="sd">    other error will be propagated (most likely ending in the actor being</span>
<span class="sd">    restarted).</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If there is some unexpected error while resampling or</span>
<span class="sd">            handling requests.</span>

<span class="sd">    # noqa: DAR401 error</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tasks_to_cancel</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">subscriptions_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_process_resampling_requests</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">subscriptions_task</span><span class="p">)</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">resampling_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="o">.</span><span class="n">resample</span><span class="p">())</span>
            <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">resampling_task</span><span class="p">)</span>
            <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span>
                <span class="p">[</span><span class="n">resampling_task</span><span class="p">,</span> <span class="n">subscriptions_task</span><span class="p">],</span>
                <span class="n">return_when</span><span class="o">=</span><span class="n">asyncio</span><span class="o">.</span><span class="n">FIRST_COMPLETED</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">subscriptions_task</span> <span class="ow">in</span> <span class="n">done</span><span class="p">:</span>
                <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">subscriptions_task</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;There was a problem with the subscriptions channel.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">resampling_task</span> <span class="ow">in</span> <span class="n">done</span><span class="p">:</span>
                <span class="n">tasks_to_cancel</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">resampling_task</span><span class="p">)</span>
                <span class="c1"># The resampler shouldn&#39;t end without an exception</span>
                <span class="n">error</span> <span class="o">=</span> <span class="n">resampling_task</span><span class="o">.</span><span class="n">exception</span><span class="p">()</span>
                <span class="k">assert</span> <span class="p">(</span>
                    <span class="n">error</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="p">),</span> <span class="s2">&quot;The resample() function shouldn&#39;t exit normally.&quot;</span>

                <span class="c1"># We don&#39;t know what to do with something other than</span>
                <span class="c1"># ResamplingError, so propagate the exception if that is the</span>
                <span class="c1"># case.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">ResamplingError</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">error</span>
                <span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">source_error</span> <span class="ow">in</span> <span class="n">error</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Error resampling source </span><span class="si">%s</span><span class="s2">, removing source...&quot;</span><span class="p">,</span> <span class="n">source</span>
                    <span class="p">)</span>
                    <span class="n">removed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resampler</span><span class="o">.</span><span class="n">remove_timeseries</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">removed</span><span class="p">:</span>
                        <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                            <span class="s2">&quot;Got an exception from an unknown source: &quot;</span>
                            <span class="s2">&quot;source=</span><span class="si">%r</span><span class="s2">, exception=</span><span class="si">%r</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="n">source</span><span class="p">,</span>
                            <span class="n">source_error</span><span class="p">,</span>
                        <span class="p">)</span>
                <span class="c1"># The resampling_task will be re-created if we reached this point</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">cancel_and_await</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tasks_to_cancel</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.sdk.actor.ConfigManagingActor" class="doc doc-heading">
        <code>frequenz.sdk.actor.ConfigManagingActor</code>


<a href="#frequenz.sdk.actor.ConfigManagingActor" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">

  
      <p>Manages config variables.</p>
<p>Config variables are read from file.
Only single file can be read.
If new file is read, then previous configs will be forgotten.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_config_managing.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@actor</span>
<span class="k">class</span> <span class="nc">ConfigManagingActor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manages config variables.</span>

<span class="sd">    Config variables are read from file.</span>
<span class="sd">    Only single file can be read.</span>
<span class="sd">    If new file is read, then previous configs will be forgotten.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">conf_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">Config</span><span class="p">],</span>
        <span class="n">event_types</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">FileWatcher</span><span class="o">.</span><span class="n">EventType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read config variables from the file.</span>

<span class="sd">        Args:</span>
<span class="sd">            conf_file: Path to file with config variables.</span>
<span class="sd">            output: Channel to publish updates to.</span>
<span class="sd">            event_types: Which types of events should update the config and</span>
<span class="sd">                trigger a notification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">conf_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_conf_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">conf_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file_watcher</span> <span class="o">=</span> <span class="n">FileWatcher</span><span class="p">(</span>
            <span class="n">paths</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_conf_dir</span><span class="p">],</span> <span class="n">event_types</span><span class="o">=</span><span class="n">event_types</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span>

    <span class="k">def</span> <span class="nf">_read_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read the contents of the config file.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if config file cannot be read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary containing configuration variables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">toml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Can&#39;t read config file, err: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">raise</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send config file using a broadcast channel.&quot;&quot;&quot;</span>
        <span class="n">conf_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_config</span><span class="p">()</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">conf_vars</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Watch config file and update when modified.</span>

<span class="sd">        At startup, the Config Manager sends the current config so that it</span>
<span class="sd">        can be cache in the Broadcast channel and served to receivers even if</span>
<span class="sd">        there hasn&#39;t been any change to the config file itself.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_config</span><span class="p">()</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_watcher</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">:</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Update configs, because file </span><span class="si">%s</span><span class="s2"> was modified.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_config</span><span class="p">()</span>

        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;ConfigManager stopped.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.sdk.actor.ConfigManagingActor-functions">Functions<a href="#frequenz.sdk.actor.ConfigManagingActor-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._config_managing.ConfigManagingActor.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">conf_file</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">event_types</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor._config_managing.ConfigManagingActor.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Read config variables from the file.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>conf_file</code></td>
          <td class="doc-param-details">
            <p>Path to file with config variables.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>output</code></td>
          <td class="doc-param-details">
            <p>Channel to publish updates to.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels.Sender">Sender</span>[<a class="autorefs autorefs-internal" title="frequenz.sdk.config.Config" href="../config/#frequenz.sdk.config.Config">Config</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>event_types</code></td>
          <td class="doc-param-details">
            <p>Which types of events should update the config and
trigger a notification.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Set" href="https://docs.python.org/3/library/typing.html#typing.Set">Set</a>[<span title="frequenz.channels.util.FileWatcher">FileWatcher</span>.<span title="FileWatcher.EventType">EventType</span>]]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_config_managing.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">conf_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">output</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">Config</span><span class="p">],</span>
    <span class="n">event_types</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">FileWatcher</span><span class="o">.</span><span class="n">EventType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read config variables from the file.</span>

<span class="sd">    Args:</span>
<span class="sd">        conf_file: Path to file with config variables.</span>
<span class="sd">        output: Channel to publish updates to.</span>
<span class="sd">        event_types: Which types of events should update the config and</span>
<span class="sd">            trigger a notification.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">conf_file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_conf_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">conf_file</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_file_watcher</span> <span class="o">=</span> <span class="n">FileWatcher</span><span class="p">(</span>
        <span class="n">paths</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_conf_dir</span><span class="p">],</span> <span class="n">event_types</span><span class="o">=</span><span class="n">event_types</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._config_managing.ConfigManagingActor.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.sdk.actor._config_managing.ConfigManagingActor.run" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Watch config file and update when modified.</p>
<p>At startup, the Config Manager sends the current config so that it
can be cache in the Broadcast channel and served to receivers even if
there hasn't been any change to the config file itself.</p>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_config_managing.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Watch config file and update when modified.</span>

<span class="sd">    At startup, the Config Manager sends the current config so that it</span>
<span class="sd">    can be cache in the Broadcast channel and served to receivers even if</span>
<span class="sd">    there hasn&#39;t been any change to the config file itself.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_config</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_watcher</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">:</span>
            <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Update configs, because file </span><span class="si">%s</span><span class="s2"> was modified.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_conf_file</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_config</span><span class="p">()</span>

    <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;ConfigManager stopped.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._config_managing.ConfigManagingActor.send_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">send_config</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.sdk.actor._config_managing.ConfigManagingActor.send_config" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Send config file using a broadcast channel.</p>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_config_managing.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send config file using a broadcast channel.&quot;&quot;&quot;</span>
    <span class="n">conf_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_config</span><span class="p">()</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">conf_vars</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.sdk.actor.DataSourcingActor" class="doc doc-heading">
        <code>frequenz.sdk.actor.DataSourcingActor</code>


<a href="#frequenz.sdk.actor.DataSourcingActor" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">

  
      <p>An actor that provides data streams of metrics as time series.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_data_sourcing/data_sourcing.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@actor</span>
<span class="k">class</span> <span class="nc">DataSourcingActor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An actor that provides data streams of metrics as time series.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">request_receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">ComponentMetricRequest</span><span class="p">],</span>
        <span class="n">registry</span><span class="p">:</span> <span class="n">ChannelRegistry</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `DataSourcingActor` instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            request_receiver: A channel receiver to accept metric requests from.</span>
<span class="sd">            registry: A channel registry.  To be replaced by a singleton</span>
<span class="sd">                instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request_receiver</span> <span class="o">=</span> <span class="n">request_receiver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_microgrid_api_source</span> <span class="o">=</span> <span class="n">MicrogridApiSource</span><span class="p">(</span><span class="n">registry</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the actor.&quot;&quot;&quot;</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_receiver</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_microgrid_api_source</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.sdk.actor.DataSourcingActor-functions">Functions<a href="#frequenz.sdk.actor.DataSourcingActor-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._data_sourcing.data_sourcing.DataSourcingActor.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">request_receiver</span><span class="p">,</span> <span class="n">registry</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor._data_sourcing.data_sourcing.DataSourcingActor.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a <code>DataSourcingActor</code> instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>request_receiver</code></td>
          <td class="doc-param-details">
            <p>A channel receiver to accept metric requests from.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels.Receiver">Receiver</span>[<a class="autorefs autorefs-internal" title="frequenz.sdk.actor._data_sourcing.microgrid_api_source.ComponentMetricRequest" href="#frequenz.sdk.actor.ComponentMetricRequest">ComponentMetricRequest</a>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>registry</code></td>
          <td class="doc-param-details">
            <p>A channel registry.  To be replaced by a singleton
instance.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="frequenz.sdk.actor._channel_registry.ChannelRegistry" href="#frequenz.sdk.actor.ChannelRegistry">ChannelRegistry</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_data_sourcing/data_sourcing.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">request_receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">ComponentMetricRequest</span><span class="p">],</span>
    <span class="n">registry</span><span class="p">:</span> <span class="n">ChannelRegistry</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `DataSourcingActor` instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        request_receiver: A channel receiver to accept metric requests from.</span>
<span class="sd">        registry: A channel registry.  To be replaced by a singleton</span>
<span class="sd">            instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_request_receiver</span> <span class="o">=</span> <span class="n">request_receiver</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_microgrid_api_source</span> <span class="o">=</span> <span class="n">MicrogridApiSource</span><span class="p">(</span><span class="n">registry</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.actor._data_sourcing.data_sourcing.DataSourcingActor.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.sdk.actor._data_sourcing.data_sourcing.DataSourcingActor.run" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Run the actor.</p>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_data_sourcing/data_sourcing.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the actor.&quot;&quot;&quot;</span>
    <span class="k">async</span> <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_receiver</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_microgrid_api_source</span><span class="o">.</span><span class="n">add_metric</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.sdk.actor.ResamplerConfig" class="doc doc-heading">
        <code>frequenz.sdk.actor.ResamplerConfig</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#frequenz.sdk.actor.ResamplerConfig" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">

  
      <p>Resampler configuration.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/timeseries/_resampling.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ResamplerConfig</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resampler configuration.&quot;&quot;&quot;</span>

    <span class="n">resampling_period</span><span class="p">:</span> <span class="n">timedelta</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The resampling period.</span>

<span class="sd">    This is the time it passes between resampled data should be calculated.</span>

<span class="sd">    It must be a positive time span.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">max_data_age_in_periods</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The maximum age a sample can have to be considered *relevant* for resampling.</span>

<span class="sd">    Expressed in number of periods, where period is the `resampling_period`</span>
<span class="sd">    if we are downsampling (resampling period bigger than the input period) or</span>
<span class="sd">    the input sampling period if we are upsampling (input period bigger than</span>
<span class="sd">    the resampling period).</span>

<span class="sd">    It must be bigger than 1.0.</span>

<span class="sd">    Example:</span>
<span class="sd">        If `resampling_period` is 3 seconds, the input sampling period is</span>
<span class="sd">        1 and `max_data_age_in_periods` is 2, then data older than 3*2</span>
<span class="sd">        = 6 seconds will be discarded when creating a new sample and never</span>
<span class="sd">        passed to the resampling function.</span>

<span class="sd">        If `resampling_period` is 3 seconds, the input sampling period is</span>
<span class="sd">        5 and `max_data_age_in_periods` is 2, then data older than 5*2</span>
<span class="sd">        = 10 seconds will be discarded when creating a new sample and never</span>
<span class="sd">        passed to the resampling function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">resampling_function</span><span class="p">:</span> <span class="n">ResamplingFunction</span> <span class="o">=</span> <span class="n">average</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The resampling function.</span>

<span class="sd">    This function will be applied to the sequence of relevant samples at</span>
<span class="sd">    a given time. The result of the function is what is sent as the resampled</span>
<span class="sd">    value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">initial_buffer_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_BUFFER_LEN_INIT</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The initial length of the resampling buffer.</span>

<span class="sd">    The buffer could grow or shrink depending on the source properties,</span>
<span class="sd">    like sampling rate, to make sure all the requested past sampling periods</span>
<span class="sd">    can be stored.</span>

<span class="sd">    It must be at least 1 and at most `max_buffer_len`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">warn_buffer_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_BUFFER_LEN_WARN</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum length of the resampling buffer that will emit a warning.</span>

<span class="sd">    If a buffer grows bigger than this value, it will emit a warning in the</span>
<span class="sd">    logs, so buffers don&#39;t grow too big inadvertently.</span>

<span class="sd">    It must be at least 1 and at most `max_buffer_len`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">max_buffer_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_BUFFER_LEN_MAX</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The maximum length of the resampling buffer.</span>

<span class="sd">    Buffers won&#39;t be allowed to grow beyond this point even if it would be</span>
<span class="sd">    needed to keep all the requested past sampling periods. An error will be</span>
<span class="sd">    emitted in the logs if the buffer length needs to be truncated to this</span>
<span class="sd">    value.</span>

<span class="sd">    It must be at bigger than `warn_buffer_len`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">align_to</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">UNIX_EPOCH</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The time to align the resampling period to.</span>

<span class="sd">    The resampling period will be aligned to this time, so the first resampled</span>
<span class="sd">    sample will be at the first multiple of `resampling_period` starting from</span>
<span class="sd">    `align_to`. It must be an aware datetime and can be in the future too.</span>

<span class="sd">    If `align_to` is `None`, the resampling period will be aligned to the</span>
<span class="sd">    time the resampler is created.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that config values are valid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If any value is out of range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resampling_period</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;resampling_period (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_period</span><span class="si">}</span><span class="s2">) must be positive&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_data_age_in_periods</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;max_data_age_in_periods (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_data_age_in_periods</span><span class="si">}</span><span class="s2">) should be at least 1.0&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;warn_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="si">}</span><span class="s2">) should be at least 1&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;max_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span><span class="si">}</span><span class="s2">) should &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;be bigger than warn_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="si">}</span><span class="s2">)&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;initial_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span><span class="si">}</span><span class="s2">) should at least 1&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;initial_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span><span class="si">}</span><span class="s2">) is bigger &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;than max_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span><span class="si">}</span><span class="s2">), use a smaller &quot;</span>
                <span class="s2">&quot;initial_buffer_len or a bigger max_buffer_len&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="p">:</span>
            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;initial_buffer_len (</span><span class="si">%s</span><span class="s2">) is bigger than warn_buffer_len (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">align_to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">align_to</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;align_to (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">align_to</span><span class="si">}</span><span class="s2">) should be a timezone aware datetime&quot;</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">





<h5 id="frequenz.sdk.actor.ResamplerConfig-attributes">Attributes<a href="#frequenz.sdk.actor.ResamplerConfig-attributes" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.align_to" class="doc doc-heading">
<code class="highlight language-python"><span class="n">align_to</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">UNIX_EPOCH</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.align_to" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The time to align the resampling period to.</p>
<p>The resampling period will be aligned to this time, so the first resampled
sample will be at the first multiple of <code>resampling_period</code> starting from
<code>align_to</code>. It must be an aware datetime and can be in the future too.</p>
<p>If <code>align_to</code> is <code>None</code>, the resampling period will be aligned to the
time the resampler is created.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.initial_buffer_len" class="doc doc-heading">
<code class="highlight language-python"><span class="n">initial_buffer_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_BUFFER_LEN_INIT</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.initial_buffer_len" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The initial length of the resampling buffer.</p>
<p>The buffer could grow or shrink depending on the source properties,
like sampling rate, to make sure all the requested past sampling periods
can be stored.</p>
<p>It must be at least 1 and at most <code>max_buffer_len</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.max_buffer_len" class="doc doc-heading">
<code class="highlight language-python"><span class="n">max_buffer_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_BUFFER_LEN_MAX</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.max_buffer_len" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The maximum length of the resampling buffer.</p>
<p>Buffers won't be allowed to grow beyond this point even if it would be
needed to keep all the requested past sampling periods. An error will be
emitted in the logs if the buffer length needs to be truncated to this
value.</p>
<p>It must be at bigger than <code>warn_buffer_len</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.max_data_age_in_periods" class="doc doc-heading">
<code class="highlight language-python"><span class="n">max_data_age_in_periods</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.0</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.max_data_age_in_periods" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The maximum age a sample can have to be considered <em>relevant</em> for resampling.</p>
<p>Expressed in number of periods, where period is the <code>resampling_period</code>
if we are downsampling (resampling period bigger than the input period) or
the input sampling period if we are upsampling (input period bigger than
the resampling period).</p>
<p>It must be bigger than 1.0.</p>

<details class="example" open>
  <summary>Example</summary>
  <p>If <code>resampling_period</code> is 3 seconds, the input sampling period is
1 and <code>max_data_age_in_periods</code> is 2, then data older than 3*2
= 6 seconds will be discarded when creating a new sample and never
passed to the resampling function.</p>
<p>If <code>resampling_period</code> is 3 seconds, the input sampling period is
5 and <code>max_data_age_in_periods</code> is 2, then data older than 5*2
= 10 seconds will be discarded when creating a new sample and never
passed to the resampling function.</p>
</details>  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.resampling_function" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resampling_function</span><span class="p">:</span> <span class="n">ResamplingFunction</span> <span class="o">=</span> <span class="n">average</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.resampling_function" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The resampling function.</p>
<p>This function will be applied to the sequence of relevant samples at
a given time. The result of the function is what is sent as the resampled
value.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.resampling_period" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resampling_period</span><span class="p">:</span> <span class="n">timedelta</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.resampling_period" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The resampling period.</p>
<p>This is the time it passes between resampled data should be calculated.</p>
<p>It must be a positive time span.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.warn_buffer_len" class="doc doc-heading">
<code class="highlight language-python"><span class="n">warn_buffer_len</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_BUFFER_LEN_WARN</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.warn_buffer_len" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>The minimum length of the resampling buffer that will emit a warning.</p>
<p>If a buffer grows bigger than this value, it will emit a warning in the
logs, so buffers don't grow too big inadvertently.</p>
<p>It must be at least 1 and at most <code>max_buffer_len</code>.</p>
  </div>

</div>

<h5 id="frequenz.sdk.actor.ResamplerConfig-functions">Functions<a href="#frequenz.sdk.actor.ResamplerConfig-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.sdk.timeseries._resampling.ResamplerConfig.__post_init__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__post_init__</span><span class="p">()</span></code>

<a href="#frequenz.sdk.timeseries._resampling.ResamplerConfig.__post_init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Check that config values are valid.</p>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <p>If any value is out of range.</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/timeseries/_resampling.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check that config values are valid.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If any value is out of range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resampling_period</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;resampling_period (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_period</span><span class="si">}</span><span class="s2">) must be positive&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_data_age_in_periods</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;max_data_age_in_periods (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_data_age_in_periods</span><span class="si">}</span><span class="s2">) should be at least 1.0&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;warn_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="si">}</span><span class="s2">) should be at least 1&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;max_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span><span class="si">}</span><span class="s2">) should &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;be bigger than warn_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;initial_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span><span class="si">}</span><span class="s2">) should at least 1&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;initial_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span><span class="si">}</span><span class="s2">) is bigger &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;than max_buffer_len (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_buffer_len</span><span class="si">}</span><span class="s2">), use a smaller &quot;</span>
            <span class="s2">&quot;initial_buffer_len or a bigger max_buffer_len&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="p">:</span>
        <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;initial_buffer_len (</span><span class="si">%s</span><span class="s2">) is bigger than warn_buffer_len (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initial_buffer_len</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">warn_buffer_len</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">align_to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">align_to</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;align_to (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">align_to</span><span class="si">}</span><span class="s2">) should be a timezone aware datetime&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>
<h3 id="frequenz.sdk.actor-functions">Functions<a href="#frequenz.sdk.actor-functions" class="headerlink" title="Permanent link">¤</a></h3>

<div class="doc doc-object doc-function">



<h4 id="frequenz.sdk.actor.actor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">frequenz</span><span class="o">.</span><span class="n">sdk</span><span class="o">.</span><span class="n">actor</span><span class="o">.</span><span class="n">actor</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span></code>

<a href="#frequenz.sdk.actor.actor" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
  
      <p>Decorate a class into a simple composable actor.</p>
<p>A actor using the <code>actor</code> decorator should define an <code>async def run(self)</code>
method, that loops over incoming data, and sends results out.</p>
<p>Channels can be used to implement communication between actors, as shown in
the examples below.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cls</code></td>
          <td class="doc-param-details">
            <p>the class to decorate.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[<span title="frequenz.sdk.actor._decorator._P">_P</span>, <span title="frequenz.sdk.actor._decorator._R">_R</span>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>[<span title="frequenz.sdk.actor._decorator._R">_R</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <p>The decorated class.</p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#TypeError">TypeError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <p>when the class doesn't have a <code>run</code> method as per spec.</p>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Example (one actor receiving from two receivers):
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">frequenz.channels</span> <span class="kn">import</span> <span class="n">Broadcast</span><span class="p">,</span> <span class="n">Receiver</span><span class="p">,</span> <span class="n">Sender</span>
<span class="kn">from</span> <span class="nn">frequenz.channels.util</span> <span class="kn">import</span> <span class="n">Select</span>
<span class="nd">@actor</span>
<span class="k">class</span> <span class="nc">EchoActor</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">recv1</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
        <span class="n">recv2</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
        <span class="n">output</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_recv1</span> <span class="o">=</span> <span class="n">recv1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_recv2</span> <span class="o">=</span> <span class="n">recv2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="n">channel_1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_recv1</span><span class="p">,</span> <span class="n">channel_2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_recv2</span><span class="p">)</span>
        <span class="k">while</span> <span class="k">await</span> <span class="n">select</span><span class="o">.</span><span class="n">ready</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">:=</span> <span class="n">select</span><span class="o">.</span><span class="n">channel_1</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">inner</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">msg</span> <span class="o">:=</span> <span class="n">select</span><span class="o">.</span><span class="n">channel_2</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">inner</span><span class="p">)</span>


<span class="n">input_chan_1</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="s2">&quot;input_chan_1&quot;</span><span class="p">)</span>
<span class="n">input_chan_2</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="s2">&quot;input_chan_2&quot;</span><span class="p">)</span>

<span class="n">echo_chan</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="s2">&quot;EchoChannel&quot;</span><span class="p">)</span>

<span class="n">echo_actor</span> <span class="o">=</span> <span class="n">EchoActor</span><span class="p">(</span>
    <span class="s2">&quot;EchoActor&quot;</span><span class="p">,</span>
    <span class="n">recv1</span><span class="o">=</span><span class="n">input_chan_1</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
    <span class="n">recv2</span><span class="o">=</span><span class="n">input_chan_2</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
    <span class="n">output</span><span class="o">=</span><span class="n">echo_chan</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
<span class="p">)</span>
<span class="n">echo_rx</span> <span class="o">=</span> <span class="n">echo_chan</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">()</span>

<span class="k">await</span> <span class="n">input_chan_2</span><span class="o">.</span><span class="n">new_sender</span><span class="p">()</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">received_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">echo_rx</span><span class="o">.</span><span class="n">receive</span><span class="p">()</span>
</code></pre></div></p>
<p>Example (two Actors composed):
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">frequenz.channels</span> <span class="kn">import</span> <span class="n">Broadcast</span><span class="p">,</span> <span class="n">Receiver</span><span class="p">,</span> <span class="n">Sender</span>
<span class="nd">@actor</span>
<span class="k">class</span> <span class="nc">Actor1</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">recv</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
        <span class="n">output</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_recv</span> <span class="o">=</span> <span class="n">recv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>


<span class="nd">@actor</span>
<span class="k">class</span> <span class="nc">Actor2</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">recv</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
        <span class="n">output</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_recv</span> <span class="o">=</span> <span class="n">recv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

<span class="n">input_chan</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="s2">&quot;Input to A1&quot;</span><span class="p">)</span>
<span class="n">a1_chan</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="s2">&quot;A1 stream&quot;</span><span class="p">)</span>
<span class="n">a2_chan</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="s2">&quot;A2 stream&quot;</span><span class="p">)</span>
<span class="n">a_1</span> <span class="o">=</span> <span class="n">Actor1</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ActorOne&quot;</span><span class="p">,</span>
    <span class="n">recv</span><span class="o">=</span><span class="n">input_chan</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
    <span class="n">output</span><span class="o">=</span><span class="n">a1_chan</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
<span class="p">)</span>
<span class="n">a_2</span> <span class="o">=</span> <span class="n">Actor2</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ActorTwo&quot;</span><span class="p">,</span>
    <span class="n">recv</span><span class="o">=</span><span class="n">a1_chan</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
    <span class="n">output</span><span class="o">=</span><span class="n">a2_chan</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
<span class="p">)</span>

<span class="n">a2_rx</span> <span class="o">=</span> <span class="n">a2_chan</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">()</span>

<span class="k">await</span> <span class="n">input_chan</span><span class="o">.</span><span class="n">new_sender</span><span class="p">()</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">received_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">a2_rx</span><span class="o">.</span><span class="n">receive</span><span class="p">()</span>
</code></pre></div></p>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_decorator.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">actor</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">_P</span><span class="p">,</span> <span class="n">_R</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">_R</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorate a class into a simple composable actor.</span>

<span class="sd">    A actor using the `actor` decorator should define an `async def run(self)`</span>
<span class="sd">    method, that loops over incoming data, and sends results out.</span>

<span class="sd">    Channels can be used to implement communication between actors, as shown in</span>
<span class="sd">    the examples below.</span>

<span class="sd">    Args:</span>
<span class="sd">        cls: the class to decorate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The decorated class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: when the class doesn&#39;t have a `run` method as per spec.</span>

<span class="sd">    Example (one actor receiving from two receivers):</span>
<span class="sd">    ```python</span>
<span class="sd">    from frequenz.channels import Broadcast, Receiver, Sender</span>
<span class="sd">    from frequenz.channels.util import Select</span>
<span class="sd">    @actor</span>
<span class="sd">    class EchoActor:</span>
<span class="sd">        def __init__(</span>
<span class="sd">            self,</span>
<span class="sd">            name: str,</span>
<span class="sd">            recv1: Receiver[bool],</span>
<span class="sd">            recv2: Receiver[bool],</span>
<span class="sd">            output: Sender[bool],</span>
<span class="sd">        ) -&gt; None:</span>
<span class="sd">            self.name = name</span>

<span class="sd">            self._recv1 = recv1</span>
<span class="sd">            self._recv2 = recv2</span>
<span class="sd">            self._output = output</span>

<span class="sd">        async def run(self) -&gt; None:</span>
<span class="sd">            select = Select(channel_1=self._recv1, channel_2=self._recv2)</span>
<span class="sd">            while await select.ready():</span>
<span class="sd">                if msg := select.channel_1:</span>
<span class="sd">                    await self._output.send(msg.inner)</span>
<span class="sd">                elif msg := select.channel_2:</span>
<span class="sd">                    await self._output.send(msg.inner)</span>


<span class="sd">    input_chan_1: Broadcast[bool] = Broadcast(&quot;input_chan_1&quot;)</span>
<span class="sd">    input_chan_2: Broadcast[bool] = Broadcast(&quot;input_chan_2&quot;)</span>

<span class="sd">    echo_chan: Broadcast[bool] = Broadcast(&quot;EchoChannel&quot;)</span>

<span class="sd">    echo_actor = EchoActor(</span>
<span class="sd">        &quot;EchoActor&quot;,</span>
<span class="sd">        recv1=input_chan_1.new_receiver(),</span>
<span class="sd">        recv2=input_chan_2.new_receiver(),</span>
<span class="sd">        output=echo_chan.new_sender(),</span>
<span class="sd">    )</span>
<span class="sd">    echo_rx = echo_chan.new_receiver()</span>

<span class="sd">    await input_chan_2.new_sender().send(True)</span>
<span class="sd">    received_msg = await echo_rx.receive()</span>
<span class="sd">    ```</span>

<span class="sd">    Example (two Actors composed):</span>
<span class="sd">    ```python</span>
<span class="sd">    from frequenz.channels import Broadcast, Receiver, Sender</span>
<span class="sd">    @actor</span>
<span class="sd">    class Actor1:</span>
<span class="sd">        def __init__(</span>
<span class="sd">            self,</span>
<span class="sd">            name: str,</span>
<span class="sd">            recv: Receiver[bool],</span>
<span class="sd">            output: Sender[bool],</span>
<span class="sd">        ) -&gt; None:</span>
<span class="sd">            self.name = name</span>
<span class="sd">            self._recv = recv</span>
<span class="sd">            self._output = output</span>

<span class="sd">        async def run(self) -&gt; None:</span>
<span class="sd">            async for msg in self._recv:</span>
<span class="sd">                await self._output.send(msg)</span>


<span class="sd">    @actor</span>
<span class="sd">    class Actor2:</span>
<span class="sd">        def __init__(</span>
<span class="sd">            self,</span>
<span class="sd">            name: str,</span>
<span class="sd">            recv: Receiver[bool],</span>
<span class="sd">            output: Sender[bool],</span>
<span class="sd">        ) -&gt; None:</span>
<span class="sd">            self.name = name</span>
<span class="sd">            self._recv = recv</span>
<span class="sd">            self._output = output</span>

<span class="sd">        async def run(self) -&gt; None:</span>
<span class="sd">            async for msg in self._recv:</span>
<span class="sd">                await self._output.send(msg)</span>

<span class="sd">    input_chan: Broadcast[bool] = Broadcast(&quot;Input to A1&quot;)</span>
<span class="sd">    a1_chan: Broadcast[bool] = Broadcast(&quot;A1 stream&quot;)</span>
<span class="sd">    a2_chan: Broadcast[bool] = Broadcast(&quot;A2 stream&quot;)</span>
<span class="sd">    a_1 = Actor1(</span>
<span class="sd">        name=&quot;ActorOne&quot;,</span>
<span class="sd">        recv=input_chan.new_receiver(),</span>
<span class="sd">        output=a1_chan.new_sender(),</span>
<span class="sd">    )</span>
<span class="sd">    a_2 = Actor2(</span>
<span class="sd">        name=&quot;ActorTwo&quot;,</span>
<span class="sd">        recv=a1_chan.new_receiver(),</span>
<span class="sd">        output=a2_chan.new_sender(),</span>
<span class="sd">    )</span>

<span class="sd">    a2_rx = a2_chan.new_receiver()</span>

<span class="sd">    await input_chan.new_sender().send(True)</span>
<span class="sd">    received_msg = await a2_rx.receive()</span>
<span class="sd">    ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The `@actor` decorator can only be applied for classes.&quot;</span><span class="p">)</span>

    <span class="n">_check_run_method_exists</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">ActorClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BaseActor</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A wrapper class to make an actor.&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">_P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">_P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Create an `ActorClass` instance.</span>

<span class="sd">            Also call __init__ on `cls`.</span>

<span class="sd">            Args:</span>
<span class="sd">                *args: Any positional arguments to `cls.__init__`.</span>
<span class="sd">                **kwargs: Any keyword arguments to `cls.__init__`.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_actor_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_actor</span><span class="p">())</span>

        <span class="k">async</span> <span class="k">def</span> <span class="nf">_start_actor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Run the main logic of the actor as a coroutine.</span>

<span class="sd">            Raises:</span>
<span class="sd">                asyncio.CancelledError: when the actor&#39;s task gets cancelled.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting actor: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="n">number_of_restarts</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">restart_limit</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">number_of_restarts</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">restart_limit</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="n">number_of_restarts</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Restarting actor: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
                <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
                    <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Cancelling actor: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                    <span class="k">raise</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
                    <span class="n">_logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Actor (</span><span class="si">%s</span><span class="s2">) crashed&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                <span class="k">finally</span><span class="p">:</span>
                    <span class="n">number_of_restarts</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Shutting down actor: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

        <span class="k">async</span> <span class="k">def</span> <span class="nf">_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Stop an running actor.&quot;&quot;&quot;</span>
            <span class="k">await</span> <span class="n">cancel_and_await</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actor_task</span><span class="p">)</span>

        <span class="k">async</span> <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Await the actor&#39;s task, and return when the task completes.&quot;&quot;&quot;</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actor_task</span>

    <span class="k">return</span> <span class="n">ActorClass</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h4 id="frequenz.sdk.actor.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">frequenz</span><span class="o">.</span><span class="n">sdk</span><span class="o">.</span><span class="n">actor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">*</span><span class="n">actors</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.sdk.actor.run" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
  
      <p>Await the completion of all actors.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>actors</code></td>
          <td class="doc-param-details">
            <p>the actors to be awaited.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>()</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#AssertionError">AssertionError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <p>if any of the actors is not an instance of BaseActor.</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.3/x64/lib/python3.11/site-packages/frequenz/sdk/actor/_run_utils.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="o">*</span><span class="n">actors</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Await the completion of all actors.</span>

<span class="sd">    Args:</span>
<span class="sd">        actors: the actors to be awaited.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: if any of the actors is not an instance of BaseActor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check that each actor is an instance of BaseActor at runtime,</span>
    <span class="c1"># due to the indirection created by the actor decorator.</span>
    <span class="k">for</span> <span class="n">actor</span> <span class="ow">in</span> <span class="n">actors</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">actor</span><span class="p">,</span> <span class="n">BaseActor</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">actor</span><span class="si">}</span><span class="s2"> is not an instance of BaseActor&quot;</span>

    <span class="n">pending_tasks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">actor</span> <span class="ow">in</span> <span class="n">actors</span><span class="p">:</span>
        <span class="n">pending_tasks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">actor</span><span class="o">.</span><span class="n">join</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">actor</span><span class="p">)))</span>

    <span class="c1"># Currently the actor decorator manages the life-cycle of the actor tasks</span>
    <span class="k">while</span> <span class="n">pending_tasks</span><span class="p">:</span>
        <span class="n">done_tasks</span><span class="p">,</span> <span class="n">pending_tasks</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span>
            <span class="n">pending_tasks</span><span class="p">,</span> <span class="n">return_when</span><span class="o">=</span><span class="n">asyncio</span><span class="o">.</span><span class="n">FIRST_COMPLETED</span>
        <span class="p">)</span>

        <span class="c1"># This should always be only one task, but we handle many for extra safety</span>
        <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">done_tasks</span><span class="p">:</span>
            <span class="c1"># Cancellation needs to be checked first, otherwise the other methods</span>
            <span class="c1"># could raise a CancelledError</span>
            <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">cancelled</span><span class="p">():</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The actor </span><span class="si">%s</span><span class="s2"> was cancelled&quot;</span><span class="p">,</span> <span class="n">task</span><span class="o">.</span><span class="n">get_name</span><span class="p">())</span>
            <span class="k">elif</span> <span class="n">exception</span> <span class="o">:=</span> <span class="n">task</span><span class="o">.</span><span class="n">exception</span><span class="p">():</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;The actor </span><span class="si">%s</span><span class="s2"> was finished due to an uncaught exception&quot;</span><span class="p">,</span>
                    <span class="n">task</span><span class="o">.</span><span class="n">get_name</span><span class="p">(),</span>
                    <span class="n">exc_info</span><span class="o">=</span><span class="n">exception</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The actor </span><span class="si">%s</span><span class="s2"> finished normally&quot;</span><span class="p">,</span> <span class="n">task</span><span class="o">.</span><span class="n">get_name</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Frequenz Energy-as-a-Service GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/frequenz-floss" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/frequenz-com" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>